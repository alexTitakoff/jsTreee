<!DOCTYPE html> 
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>jsTreee</title>
	<link rel="stylesheet" href="main.css">
	
</head>
<body>


	<div id="root_scope"> 

		<ul  id="root_node">RootNode 
			<input class="root_node_buttonNode" type="button" value="addNode">
			<input class="root_node_buttonFile" type="button" value="addFile">
			<input class="root_node" type="text" value=""> 
		</ul>
		<ul id="root_node2" >RootNode2
			<input class="root_node_buttonNode2" type="button" value="addNode">
			<input class="root_node_buttonFile2" type="button" value="addFile">
			<input class="root_node" type="text" value=""> 
		</ul>




		<!-- <a id="id" href="#" class="cls" onclick="alert(this.className); alert(this.id);alert(this.innerHTML)">ссылка</a> -->




	</div>





	<script>

	//БОЛЬШОЙ СКРИПТ СЕЛЕКТИДА!!!
	//БОЛЬШОЙ СКРИПТ СЕЛЕКТИДА!!!



		//Функция ховера
		var all = document.getElementById('root_scope');
		for(var i=0;i<all.childNodes.length;i++) {
			if (all.childNodes[i].nodeType == 1) {
				all.childNodes[i].onmouseover = function() {   //наведение на элемент
					this.style.background = '#2C64FF';
				};

				all.childNodes[i].onmouseout = function() {  // уход мышки с элемента
					this.style.background = 'none';
				};

			};
		};
		//Функция ховера


		//Вешаем прослушку на весь Scope дерева и Получаем Id или ClassName для индексирования элементов.
		document.getElementById('root_scope').onclick = function(event) {
			target = event.target||event.srcElement;
			console.log(target);

			
			// var all =  this.childNodes;
			// console.log(all);
			for(var i=0;i<this.childNodes.length;i++) {
				if (this.childNodes[i].nodeType == 1) {
					this.childNodes[i].classList.remove('selected');		  // убираем класс selected
					var targetInputs = this.childNodes[i].getElementsByTagName('input');  // все внутренние элементы ноним
					for(var j=0;j<targetInputs.length;j++) {    				
						targetInputs[j].style.display = 'none';

					};

				};
			};

			// Добавляем класс Селекта для выделения 
			target.classList.add('selected')
			var targetInputs = target.getElementsByTagName('input');  // получаем массив элементов, в данном случае input
			for(var i=0;i<targetInputs.length;i++) {    				// перебираем все элементы
				targetInputs[i].style.display = 'inline-block';

			};



			//alert(target.id || target.className)
			// var target = target.id || target.className;
			// var target = "'" + "#" + target + "'";
			//console.log(target);
			


			// console.log("клик обработался дважды")
			// var theNode = document.createElement('ul'); 
			// var valueNode = document.getElementsByClassName("root_node").value; // определяем значение в текстовом поле
			
			

			// theNode.innerHTML = valueNode + '<input  type="button" value="Добавить"> <input type="text" value=""> ';  			
			// this.appendChild(theNode);  

			// //this.parentNode.appendChild(nodeInput); 

			
			// //анимашка
			// getComputedStyle(theNode).opacity;
			// theNode.style.opacity = '1';


	  //  создали li-шку

	};
//Вешаем прослушку на весь Scope дерева и Получаем Id для индексирования элементов.


	//БОЛЬШОЙ СКРИПТ СЕЛЕКТИДА!!!
	//БОЛЬШОЙ СКРИПТ СЕЛЕКТИДА!!!









</script>




</body>
</html>